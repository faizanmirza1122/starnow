/*! For license information please see saveSearchPopup.js.LICENSE?x=7b9116888bc11fa178a0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{128:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(){return{}}},1365:function(e,t,a){e.exports=a(806)},368:function(e,t,a){"use strict";var n=a(1),r=a(16),s=a(0),o=a.n(s),i=a(3),c=a.n(i),l=a(6),u=a(35),m=a(5),p=a(43),d=a(12),b=function(e){return o.a.useEffect((function(){e.setTouched({}),e.setErrors({})}),[window.location.href]),o.a.useEffect((function(){void 0!==e.onChange&&e.onChange(e.values)}),[e.values]),o.a.createElement(r.d,{className:"w-50-ns mh-auto mb1"},o.a.createElement(r.b,{name:"email"},(function(t){var a=t.field;return o.a.createElement("input",Object(n.a)({},a,{type:"email",ref:function(t){return e.setInputRef(t)},maxLength:50,className:c()("input-clean job-alert__input mb2",{"input-clean--with-error":void 0!==e.touched.email&&void 0!==e.errors.email}),placeholder:"Enter your email"}))})),o.a.createElement(p.c,{name:"email",errorTextClassName:e.errorTextClassName}),o.a.createElement(l.d,{onClick:e.submitForm,className:"job-alert__input f6 flex items-center justify-center"},e.isLoading?o.a.createElement(u.a,{backgroundColour:[255,255,255]}):o.a.createElement("span",null,e.buttonText)),o.a.createElement(d.a,{condition:e.hasError},o.a.createElement(p.b,{errorTextClassName:e.errorTextClassName,errorMessage:"Oops, something went wrong! Reload the page and try again",errorClassName:"txt-center"})))};b.defaultProps={buttonText:"Create job alert"};var f=Object(r.f)({handleSubmit:function(e,t){t.props.onSubmit(e)},mapPropsToValues:function(e){return{email:e.email}},validationSchema:m.object().shape({email:m.string().email("Please enter a valid email").max(50,"Your email cannot be longer than 50 characters").required("Please enter an email")})})(b);t.a=f},806:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a(18),o=a(116),i=a(3),c=a.n(i),l=a(368),u=a(12),m=a(26),p=a(195),d=a(97),b=a(338),f=a(30),v=a(43),h=a(128),g=function(e){var t=Object(n.e)(r.useState(!0),2),a=t[0],s=t[1],i=Object(n.e)(r.useState("entrance"),2),l=i[0],v=i[1],h=Object(n.e)(r.useState(""),2),g=h[0],w=h[1],x=Object(n.e)(r.useState(!1),2),N=x[0],_=x[1],C=Object(n.e)(r.useState(!1),2),O=C[0],S=C[1],y=Object(n.e)(r.useState(void 0),2),T=y[0],k=y[1],P=Object(b.a)(f.a.IsSmall);r.useEffect((function(){var e=d.a.get("saveSearchPopupAcknowledged");s(!e)}),[]);var A=function(){d.a.set("saveSearchPopupAcknowledged",!0),v("exit")},L=P?"1rem":"1.625rem";return a?r.createElement("div",{className:c()("save-search-popup__container",{"save-search-popup__entrance":"entrance"===l,"save-search-popup__exit":"exit"===l})},r.createElement(o.default,{onClick:A,width:L,height:L,className:"save-search-popup__cross"}),r.createElement("div",{className:"save-search-popup__inner"},r.createElement(u.a,{condition:!N},r.createElement(E,{email:g,onSubmitAynsc:function(t){return Object(n.b)(void 0,void 0,void 0,(function(){var a,r;return Object(n.d)(this,(function(n){switch(n.label){case 0:w(t),S(!0),k(void 0),a={email:t,cookieGuid:e.session.guid,url:e.url},n.label=1;case 1:return n.trys.push([1,6,,7]),[4,Object(m.b)(Object(p.b)(a,e.global.starNowApiUrl),500)];case 2:return r=n.sent(),S(!1),void 0===r.errorMessage?[3,3]:(k(r.errorMessage),[3,5]);case 3:return _(!0),[4,Object(m.a)(3e3)];case 4:n.sent(),A(),n.label=5;case 5:return[3,7];case 6:return n.sent(),k("Oops, something went wrong! Reload the page and try again"),[3,7];case 7:return[2]}}))}))},isLoading:O,error:T,onChange:function(){return k(void 0)}})),r.createElement(u.a,{condition:N},r.createElement(j,{email:g})))):null},E=function(e){return r.createElement("div",{className:"mw8 mh-auto"},r.createElement("div",{className:"save-search-popup__title mb1"},"Never miss a paid job!"),r.createElement("div",{className:"save-search-popup__subtitle mb2 mb3-ns"},"Casting now for all ages and experience."),r.createElement(l.a,{email:e.email,isLoading:e.isLoading,onSubmit:function(t){var a=t.email;return e.onSubmitAynsc(a)},setInputRef:h.a,onChange:function(){return e.onChange()},buttonText:"Get instant job alerts",errorTextClassName:"txt-lemon fw7 mb2 flex justify-center"}),void 0!==e.error&&r.createElement(v.b,{errorTextClassName:"txt-lemon",errorMessage:e.error,errorClassName:"txt-center fw7 mb2 flex justify-center"}))},j=function(e){return r.createElement("div",{className:"mw6 mh-auto ma3"},r.createElement("div",{className:"save-search-popup__subtitle mb2"},"We've sent an email to ",e.email),r.createElement("div",{className:"save-search-popup__subtitle fw6"},"Click on the link in this email to start receiving your job alerts."))};t.default=g,Object(s.a)(g,"SaveSearchPopup")}},[[1365,1,2,0]]]);
//# sourceMappingURL=saveSearchPopup.js.map?x=7b9116888bc11fa178a0;