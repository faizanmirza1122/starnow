/*! For license information please see trackList.js.LICENSE?x=291b73d40d997819103a */
(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{1285:function(e,t,i){e.exports=i(762)},761:function(e,t,i){(function(t){e.exports=t.TrackList=i(762)}).call(this,i(23))},762:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i(0),r=i(176),o=i(85),c=i(3),s=i.n(c),d=function(e){function t(t){var i=e.call(this,t)||this;return i.handleAudioLike=function(e){var t=Object(n.g)(i.state.mediaList),a=t.findIndex((function(t){return t.mediaId===e}));t[a].isLiked=!0,i.setState({mediaList:t})},i.renderTrackListItem=function(e,t){var n=i.state.selectedMediaId===e.mediaId,r=t>9?t+1:"0"+(t+1),o=s()("pointer",{mediaRowSelected:n,mediaRow:!n});return a.createElement("tr",{key:e.mediaId,onClick:function(){return i.handleTrackClick(e)},className:o},a.createElement("td",{className:"track-number"},r),a.createElement("td",null,a.createElement("span",{className:"play-icon"},"â–º")),a.createElement("td",{className:"track-title"},e.captionText))},i.state={selectedMediaId:t.initialSelectedMediaId,mediaList:t.initialMediaList},i}return Object(n.c)(t,e),t.prototype.componentDidMount=function(){this.props.subscribe(r.a.LikeAudio,this.handleAudioLike)},t.prototype.handleTrackClick=function(e){this.setState({selectedMediaId:e.mediaId}),this.props.setAudio(e),this.props.playTrack(),this.updateTitleText(e),this.updateTrackDescription(e),this.updateShareLinks(e)},t.prototype.generateMediaLink=function(e){var t=e.captionText,i=e.mediaId;return void 0!==t?"/media/"+i+"-"+t.replace(/ /gi,"+"):""},t.prototype.updateTrackDescription=function(e){var t=document.querySelector(".trackDescription"),i=e.descriptionText;void 0!==i&&(null===t&&((t=document.createElement("p")).className="trackDescription",t.innerHTML=i),t.innerHTML=i)},t.prototype.updateTitleText=function(e){var t=document.getElementsByClassName("audioCaption")[0];if(void 0!==e.captionText){var i=e.captionText;t.innerHTML=i,t.href=this.generateMediaLink(e)}},t.prototype.updateShareLinks=function(e){var t=document.querySelector(".js-audio-player .js-social");if(null===t)throw new Error("Can't find share link elements");var i=this.createFullEncodedLink(e),n=t.querySelector(".js-share-internal");this.updateShareLink(t,".js-share-internal",this.createEmailLink(i,n.href)),this.updateShareLink(t,".js-twitter",this.createTwitterLink(i,e)),this.updateShareLink(t,".js-facebook",this.createFacebookLink(i))},t.prototype.updateShareLink=function(e,t,i){var n=e.querySelector(t);if(null===n)throw new Error("Can't find share link element: "+t);n.href=i},t.prototype.createFacebookLink=function(e){return"http://www.facebook.com/sharer/sharer.php?u="+e},t.prototype.createTwitterLink=function(e,t){if(void 0===t.captionText)throw new Error("Missing Track Caption");return"https://twitter.com/intent/tweet?url="+e+"&text="+(t.captionText+" "+this.props.mediaOwnerName).replace(/ /gi,"+")+"&lang=en&hashtags=casting"},t.prototype.createEmailLink=function(e,t){return t.split(/https(?!.*https)/)[0]+e},t.prototype.createFullEncodedLink=function(e){return encodeURIComponent(window.location.origin+this.generateMediaLink(e))},t.prototype.render=function(){return a.createElement("table",{className:"track-list"},a.createElement("tbody",null,this.state.mediaList.map(this.renderTrackListItem)))},t}(a.Component),p=[[r.a.ChangeAudio,{publisher:"setAudio"}],[r.a.PlayAudio,{publisher:"playTrack"}]];t.default=Object(o.a)(p)(d),i(761)}},[[1285,1,2,0]]]);
//# sourceMappingURL=trackList.js.map?x=291b73d40d997819103a;
/*! For license information please see audioLikeButton.js.LICENSE?x=f5f8c39e5b471a951aa1 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1286:function(e,i,t){e.exports=t(803)},474:function(e,i,t){"use strict";var n=t(0),r=function(e){return n.createElement("div",{className:"action-button action-button--like "+(e.isLiked?"action-button--active":""),onClick:e.onClick},n.createElement("div",{style:{backgroundImage:"url('"+(void 0!==e.staticUrl?e.staticUrl:starnow.staticUrl)+"/images/like/thumb--grey.svg')"},className:"action-button__icon"}),e.isLiked?"Liked":"Like")};r.defaultProps={isLiked:!1,onClick:function(){}},i.a=r},803:function(e,i,t){"use strict";t.r(i);var n=t(1),r=t(0),s=t.n(r),a=t(474),o=t(85),c=t(176),d=t(9),u=t(231),l=t(49),k=t(18),p=function(e){function i(i){var t=e.call(this,i)||this;return t.handleLikeAsync=function(){return Object(n.b)(t,void 0,void 0,(function(){var e;return Object(n.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.submitLikeAsync()];case 1:return i.sent(),this.setState({isLiked:!0}),this.props.audioTrackLiked(this.props.mediaId),[3,3];case 2:return e=i.sent(),console.log(e),[3,3];case 3:return[2]}}))}))},t.onLikeClickAsync=function(e,i,r){return Object(n.b)(t,void 0,void 0,(function(){var t;return Object(n.d)(this,(function(n){switch(n.label){case 0:return e.preventDefault(),this.state.isLiked?[2]:this.props.isSignedIn?(e.persist(),[4,i()]):[2,window.location.assign("/media/MediaRate.aspx?media_id="+this.props.mediaId+"&like_type_id=1&return_url="+this.props.returnUrl)];case 1:return(t=n.sent())===l.b.BlockedByMe||t===l.b.BlockedByThem?r(!0):this.handleLikeAsync(),[2]}}))}))},t.state={prevPropsMediaId:t.props.mediaId,isLiked:i.initialIsLiked},t}return Object(n.c)(i,e),i.getDerivedStateFromProps=function(e,i){return e.mediaId!==i.prevPropsMediaId?{prevPropsMediaId:e.mediaId,isLiked:e.initialIsLiked}:null},i.prototype.submitLikeAsync=function(){return Object(n.b)(this,void 0,void 0,(function(){var e;return Object(n.d)(this,(function(i){switch(i.label){case 0:return e=JSON.stringify({itemID:this.props.mediaId,likeTypeID:1,likeOptionID:null}),[4,Object(d.d)("/Services/MembershipService.asmx/TrackLike",{body:e})];case 1:return i.sent(),[2]}}))}))},i.prototype.render=function(){var e=this;return s.a.createElement(u.a,{memberId:this.props.ownerId},(function(i){var t=i.checkBlock,n=i.setShowBlockModal;return s.a.createElement(a.a,{onClick:function(i){return e.onLikeClickAsync(i,t,n)},isLiked:e.state.isLiked,staticUrl:e.props.staticUrl})}))},i}(s.a.Component),b=[[c.a.ChangeAudio,{propName:function(e){return{mediaId:e.mediaId,initialIsLiked:e.isLiked}}}],[c.a.LikeAudio,{publisher:"audioTrackLiked"}]];i.default=Object(o.a)(b)(p),Object(k.a)(p,"AudioLikeButton")}},[[1286,1,2,0]]]);
//# sourceMappingURL=audioLikeButton.js.map?x=f5f8c39e5b471a951aa1;
/*! For license information please see audioPlayer.js.LICENSE?x=69363dba3d284e84d5a5 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1284:function(n,o,p){n.exports=p(181)}},[[1284,1,2,0]]]);
//# sourceMappingURL=audioPlayer.js.map?x=69363dba3d284e84d5a5;