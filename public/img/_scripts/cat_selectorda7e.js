/*! For license information please see profileCategoryList.js.LICENSE?x=b54e3f85411a68881e17 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{1310:function(e,t,n){e.exports=n(429)},429:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n(18),o=n(6),c=n(3),l=n.n(c),s=n(57),u=n(35),g=n(33),d=n.n(g),m=n(55),f=function(e){var t="auto_"+e.categoryListItem.text.toLowerCase().replace(" ","-");return r.createElement(o.d,{onClick:e.onSelectCategory,className:l()("mb2 fw6 f8 button--sky-blue",t,e.isLeftAligned?"mr2":"mh1",{"bg-white":!e.isSelected}),isRounded:!0,isOutline:!e.isSelected},e.categoryListItem.text)},y=n(25),b=function(e){var t=e.selectedSubCategoriesFull.filter((function(t){return e.parentCategory.childCategories.some((function(e){return e.categoryID===t}))})),n=Object(a.e)(r.useState(t),2),i=n[0],c=n[1],l=d()(t,i);return r.createElement(m.a,{title:"Pick your areas of Interest",isOpen:!0,onRequestClose:e.onRequestClose},r.createElement("div",{className:"pb3 ph3"},r.createElement("h1",{className:"copy__h3 txt-center fw7 mb3"},e.parentCategory.text,":"),r.createElement("div",{className:"ph3 pb3 flex flex-wrap justify-center"},e.parentCategory.childCategories.map((function(e){return r.createElement(f,{onSelectCategory:function(){return function(e){var t=i.includes(e.categoryID)?Object(y.d)(i,e.categoryID):Object(y.a)(i,e.categoryID);c(t)}(e)},categoryListItem:e,isSelected:i.includes(e.categoryID),key:"category-list-item-"+e.categoryID})}))),r.createElement("div",{className:"flex justify-center"},r.createElement(o.d,{className:"txt-center w-100 w-auto-ns",disabled:l,onClick:function(){return e.submitSubCategories(i,t.length>0)}},"Save"))))},C=function(e){var t=Object(a.e)(r.useState(e.initialSelectedCategories),2),n=t[0],i=t[1],o=Object(a.e)(r.useState(e.initialSelectedSubCategories),2),c=o[0],u=o[1],g=e.categories.find((function(t){return t.categoryID===e.initialPendingCategoryID})),d=Object(a.e)(Object(s.a)({pendingParentCategory:null!=g?g:null,hasError:!1,isLoading:!1,showSubCatModal:!!g}),2),m=d[0],C=d[1],h=m.pendingParentCategory,w=m.hasError,E=m.isLoading,v=0===n.length;return r.createElement("div",null,r.createElement("div",{className:l()("flex flex-wrap",e.isLeftAligned?"justify-start":"justify-center",{mb3:e.showSubmit})},e.shouldRenderInputs&&r.createElement(S,{categoryIds:Object(a.g)(n,c)}),e.categories.map((function(t,a){return r.createElement(f,{onSelectCategory:function(){return function(t,a){if(a>=e.categories.length||a<0)throw new Error("invalid category idx: "+a);if(t.childCategories.length>0)return C({pendingParentCategory:t,showSubCatModal:!0});var r=e.isRadio?[]:n,o=(n.includes(t.categoryID)?y.d:y.a)(r,t.categoryID);return i(o)}(t,a)},categoryListItem:t,key:"category-list-item-"+t.categoryID,isLeftAligned:e.isLeftAligned,isSelected:n.includes(t.categoryID)})})),null!==h&&m.showSubCatModal&&r.createElement(b,{onRequestClose:function(){return C({pendingParentCategory:null,showSubCatModal:!1})},parentCategory:h,submitSubCategories:function(e,t){if(null!==h){var r=c.filter((function(e){return!h.childCategories.some((function(t){return t.categoryID===e}))})),o=Object(a.g)(r,e);C({showSubCatModal:!1,pendingParentCategory:null}),u(o);var l=e.length>0;if(l!==t){var s=(l?y.a:y.d)(n,h.categoryID);i(s)}}},selectedSubCategoriesFull:c})),w&&r.createElement("p",{className:"txt-tomato txt-center"},"Something went wrong! Plese reload the page and try again."),e.showSubmit&&r.createElement(p,{isButtonDisabled:v,isLoading:E,onClick:function(){if("function"==typeof e.onSubmit){var t=Object(a.g)(n,c);e.onSubmit(t)}}}))},p=function(e){return r.createElement("div",{className:"txt-center mb3"},r.createElement(o.d,{disabled:e.isButtonDisabled,onClick:e.onClick,className:"ma-auto w-100 w-auto-ns mb2"},e.isLoading?r.createElement("div",{className:"pv1"},r.createElement(u.a,{backgroundColour:[255,255,255]})):"Save"))};p.defaultProps={onClick:function(){throw new Error("An onSubmit() was not provided to CategoryListSubmitButton")}},C.defaultProps={isRadio:!1,categories:[],initialSelectedSubCategories:[],initialSelectedCategories:[]};var S=function(e){return r.createElement(r.Fragment,null,e.categoryIds.map((function(e){return r.createElement("input",{value:e,key:e,type:"checkbox",name:"CategoryIDs",checked:!0,hidden:!0,readOnly:!0})})))};t.default=C,Object(i.a)(C,"ProfileCategoryList")}},[[1310,1,2,0]]]);
//# sourceMappingURL=profileCategoryList.js.map?x=b54e3f85411a68881e17;